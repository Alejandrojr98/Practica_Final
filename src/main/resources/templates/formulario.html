<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulario Usuario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<header th:insert="~{fragments/header::header}"></header>
<div class="container align-items-center">
    <h1 class="text-center" th:text="${usuario.getIdUsuario()==0?'Nuevo Usuario':'Editar Usuario'}"></h1>
    <h1>Formulario Usuario</h1>
    <form class="row g-3 needs-validation" novalidate th:action="@{/guardar}" th:object="${usuario}" method="post" enctype="multipart/form-data">
        <input type="hidden" name="id" th:field="*{idUsuario}">
<!--        <input type="hidden" name="id_imagen" th:field="*{imagen.idImagen}">-->
<!--        <input type="hidden" name="id_archivo" th:field="*{archivo.idArchivo}">-->
        <div class="col-md-4">
            <label for="validationCustom01" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="validationCustom01" required th:field="*{nombre}">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce el nombre de usuario.
            </div>
        </div>
        <div class="col-md-4">
            <label for="validationCustom02" class="form-label">Apellido</label>
            <input type="text" class="form-control" id="validationCustom02" required th:field="*{apellido}">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce el apellido de usuario.
            </div>
        </div>
        <div class="col-md-4">
            <label for="validationCustom04" class="form-label">Edad</label>
            <input type="number" class="form-control" id="validationCustom04" required th:field="*{edad}">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce la edad de usuario.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom05" class="form-label">Teléfono</label>
            <input type="text" class="form-control" id="validationCustom05" required th:field="*{telefono}" maxlength="9">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce el teléfono del empleado.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom03" class="form-label">Email</label>
            <input type="email" class="form-control" id="validationCustom03" required th:field="*{email}">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce el email de usuario.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom06" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="validationCustom06" required th:field="*{direccion}">
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce la dirección de usuario.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom07" class="form-label">Estado</label>
            <select class="form-select" id="validationCustom07" required th:field="*{puesto}">
                <option th:each="p:${puestoEmpleado}" th:value="${p}" th:text="${p}"></option>
            </select>
            <div class="valid-feedback">
                Buen trabajo.
            </div>
            <div class="invalid-feedback">
                Selecciona el puesto de usuario.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom08" class="form-label">IMG</label>
            <select class="form-select" id="validationCustom08" required th:field="*{imagen}">
                <option th:each="i:${imagenes}" th:value="${i.idImagen}" th:text="${i.nombre}"></option>
            </select>
            <div class="valid-feedback">
                Buen trabajo.
            </div>
            <div class="invalid-feedback">
                Selecciona la imagen de usuario.
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom09" class="form-label">Archivo</label>
            <select class="form-select" id="validationCustom09" required th:field="*{archivo}">
                <option th:each="a:${archivos}" th:value="${a.idArchivo}" th:text="${a.nombreArchivo}"></option>
            </select>
            <div class="valid-feedback">
                Buen trabajo.
            </div>
            <div class="invalid-feedback">
                Selecciona el archivo de usuario.
            </div>
        </div>
<!--        <div class="col-md-4">-->
<!--            <label for="validationCustom12" class="form-label">Imagen a Modificar</label>-->
<!--            <input type="file" name="imagenMod" id="validationCustom12">-->
<!--            <div class="valid-feedback">-->
<!--                Correcto-->
<!--            </div>-->
<!--            <div class="invalid-feedback">-->
<!--                Introduce la imagen.-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="col-md-4">-->
<!--            <label for="validationCustom13" class="form-label">Archivo a Modificar</label>-->
<!--            <input type="file" name="archivoMod" id="validationCustom13">-->
<!--            <div class="valid-feedback">-->
<!--                Correcto-->
<!--            </div>-->
<!--            <div class="invalid-feedback">-->
<!--                Introduce el archivo.-->
<!--            </div>-->
<!--        </div>-->
        <div class="col-12">
            <button class="btn btn_color" type="submit">Enviar Datos</button>
            <button class="btn btn_color" type="reset">Limpiar</button>
        </div>
    </form>
</div>
<div class="container align-items-center">
    <h1>Insertar imágenes</h1>
    <form class="row g-3 needs-validation" novalidate th:action="@{/guardarIMG}" method="post" enctype="multipart/form-data">
        <div class="col-md-4">
            <label for="validationCustom10" class="form-label">Imagen</label>
            <input type="file" name="imagen" id="validationCustom10">
            <button class="btn btn_color" type="submit">Guardar IMG</button>
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce la imagen.
            </div>
        </div>
    </form>
</div>
<div class="container align-items-center">
    <h1>Insertar documentos</h1>
    <form class="row g-3 needs-validation" novalidate th:action="@{/guardarArchivo}" method="post" enctype="multipart/form-data">
        <div class="col-md-4">
            <label for="validationCustom11" class="form-label">Archivo</label>
            <input type="file" name="archivo" id="validationCustom11">
            <button class="btn btn_color" type="submit">Guardar DOC</button>
            <div class="valid-feedback">
                Correcto
            </div>
            <div class="invalid-feedback">
                Introduce el archivo.
            </div>
        </div>
    </form>
</div>
<script>
    (() => {
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
</body>
</html>